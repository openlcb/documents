                                                               OpenLCB Standard

                                                              Unique Identifiers

                                             Feb 15, 2015Feb 6, 2016                  AdoptedDraft          

                                         1 Introduction (Informative)

   This standard describes the format and allocation of OpenLCB 48-bit Unique Identifiers. It is not
   specific to any wire protocol.

                                         2 Intended Use (Informative)

   Many OpenLCB protocols rely on each node having a Node ID, and those Node IDs being absolutely unique
   between nodes. OpenLCB defines 48-bit unique identifiers for this purpose. Unique Identifiers are also
   used to ensure that Event Identifiers are uniquely specified. This Standard is intended to ensure these
   Unique Identifiers are available. It applies to all OpenLCB uses of 48-bit Unique Identifiers, including
   as Node Identifiers.

                                     3 References and Context (Normative)

   This specification is in the context of the following OpenLCB Standards:

     * The OpenLCB Message Network Standard, which defines the basic messages and how they interact.
       Higher-level protocols are based on this message network, but are defined elsewhere.

     * The OpenLCB Event Identification Standard, which defines the well-known Events Identifiers.

                                             4 Format (Normative)

   An OpenLCB Uunique Iidentifier (Unique ID) shall be six bytes of eight bits each.

   The order of bytes in an OpenLCB unique Identifier shall be considered significant. The most-significant
   byte shall be transmitted first during communication operations. The most-significant byte shall be
   written first (left-most in Western format) in any human-readable representation. Within the tables
   below, byte 1 is considered the most-significant byte, while byte 6 is considered the least significant
   byte.

   An OpenLCB Unique Identifier shall include one or more 1 bits.

   Every OpenLCB node shall have a Unique Identifier to use as a Node Identifier (Node ID).

                                           5 Allocation (Normative)

   Unique Iidentifiers shall be allocated using one of the mechanisms in this section. When additional
   allocation methods are defined, the Unique Identifiers defined by those additional methods shall only
   provide allocation ranges that do no overlap with existing allocation ranges. Ranges that are not
   explicitly allocated are reserved for future use unless otherwise noted within this document.

5.1 Overview

   Unique Identifiers are allocated in groups starting with the most significant byte as the macro group
   assignment.

    Byte 1  Byte 2  Byte 3  Byte 4  Byte 5  Byte 6  Organization                  Comment                   
      00      *       *       *       *       *       OpenLCB     Reserved, leading zero indicates          
                                                                  uninitialized or non-standard Node ID     
      01      *       *       *       *       *       OpenLCB     Reserved for well-known global            
                                                                  identifiers                               
      02      *       *       *       *       *       OpenLCB     Manufacturer Specific Assignments         
      03      *       *       *       *       *       OpenLCB     Self-assigning groups space               
      04      *       *       *       *       *       OpenLCB     Individual Unique Identifiers allocated   
                                                                  by automatic requests                     
      05      *       *       *       *       *       OpenLCB     Specifically assigned ranges by request   
      06      *       *       *       *       *       OpenLCB     Locomotive control systems (deprecated,   
                                                                  may be reassigned in the future)          
      07      *       *       *       *       *       OpenLCB     (tentative) RFID and NFC messages as      
                                                                  events                                    
      08      *       *       *       *       *       OpenLCB     Temporary individually Unique             
                                                                  Identifiers leased by automatic requests  
      09      *       *       *       *       *       OpenLCB     Long (16-bit) NMRA DCC manufacture        
                                                                  identifiers                               
      FF      *       *       *       *       *       OpenLCB     Reserved, indicates an error (example:    
                                                                  reset non-volatile memory)                

5.2 Reserved Leading Zero

   A value of zero in the most significant byte of the uUnique iIdentifier indicates uninitialized or
   non-standard Node ID.

    Byte 1  Byte 2  Byte 3  Byte 4  Byte 5  Byte 6  Organization                  Comment                   
      00      00      00      00      00      00      OpenLCB     Convenient value for “no valid Node ID    
                                                                  assigned”                                 

5.3 Well-Known Global Identifiers

   OpenLCB defines specific well-known identification numbers and number ranges for specific uses. The
   details of these ranges are defined in in either the Event Identifiers Standard or another Standard.

    Byte 1  Byte 2  Byte 3  Byte 4  Byte 5  Byte 6  Organization                  Comment                   
                                                                  Reserved for automatically-routed Event   
      01      00      00      00      00      00      OpenLCB     Identifiers. See Event Identifiers        
                                                                  Standard.                                 
                                                                  Reserved for well-known Event             
      01      01      00      00      00      00      OpenLCB     Identifiers. See Event Identifiers        
                                                                  Standard.                                 
                                                                  Reserved for CBUS-defined Event           
      01      01      01      00     CBUS Node ID       MERG      Identifiers (ON state). See Event         
                                                                  Identifiers Standard and Technical Note.  
                                                                  Reserved for CBUS-defined Event           
      01      01      01      01     CBUS Node ID       MERG      Identifiers (OFF state). See Event        
                                                                  Identifiers Standard Technical Note.      
      01      01      01      *      CBUS Node ID       MERG      Reserved for CBUS-defined future          
                                                                  expansion.                                
      01      63      *       *       *       *       OpenLCB     XpressNet translation                     
      01      81      *       *       *       *       OpenLCB     LocoNet translation                       
      01      EE      *       *       *       *       OpenLCB     DCC Translation                           

5.4 Manufacturer Specific

   Manufacturers shall ensure uniqueness for identifiers they assign. Short (8-bit) NMRA DCC manufacture
   ID's are assigned out of this pool. Please see section 5.11 for long (16-bit) NMRA DCC manufacture ID's.
   Some of the DCC manufacture ID's are called out specifically in the table below as an example and to
   draw attention to their existence, but they are assigned in accordance with their corresponding DCC
   manufacture ID. This pool may also be used for new, unique, non-DCC manufacture ID based assignments in
   the future.

    Byte 1  Byte 2  Byte 3  Byte 4  Byte 5  Byte 6    Organization                  Comment                 
                                                                      Manufactures who have been assigned   
                                                                      a short DCC Manufacturer ID code      
                                                                      may, but are not required to, use     
      02      01    DCC ID      Self-Assigned       DCC Manufacturer  this range. These IDs are defined     
                                                                      within the NMRA standard “S-9.2.2     
                                                                      Appendix A, DCC Manufacture ID        
                                                                      Codes”                                
                                                                      Do-It-Yourself (shared unmanaged      
      02      01      0D        Self-Assigned          DCC – DIY      space, not recommended for            
                                                                      individual use)                       
      02      01      12        Self-Assigned          DCC – JMRI     JMRI (for use in software solutions)  
      02      01      A5      *      CBUS Node ID      DCC – MERG     MERG Node ID translation              
                                                                      NMRA Reserved (for extended           
      02      01      EE      *       *       *        DCC – NMRA     manufacture ID numbers). Not          
                                                                      available for use.                    

5.5 Self-Assigning Groups

   These Unique Identifiers are assigned in association with an outside organization's unique
   identification scheme. The outside organization is responsible for assigning a globally unique
   identifier that maps into the OpenLCB Unique Identifier space designated in the table below. Future
   definition of ranges for additional groups will use unique values in Byte 2.

    Byte 1  Byte 2  Byte 3  Byte 4  Byte 5  Byte 6  Organization                  Comment                   
                                                                  NMRA members may, but are not required    
      03      00      Membership Number       *         NMRA      to, use their NMRA membership number to   
                                                                  self-assign Unique Identifiers. The       
                                                                  least significant byte is self-assigned.  
                                                                  MERG members may, but are not required    
      03      04      Membership Number       *         MERG      to, use their MERG membership number to   
                                                                  self-assign Unique Identifiers. The       
                                                                  least significant byte is self-assigned.  
      03      08    CBUS Layout ID   CBUS Node ID       MERG      CBUS – for mapping existing modules,      
                                                                  using the Layout ID defined by CBUS       

5.6 Assigned by Software at Runtime

   A program running in a computer with an IP address must not use that address to directly formulate a
   unique identifier. The program may use an IP connection to request a unique identifier from openlcb.org,
   or from another organization that is distributing unique identifiers from a range designated to it.

    Byte 1  Byte 2  Byte 3   Byte 4    Byte 5    Byte 6   Organization               Comment                
      04      00      00    Sequentially Assigned Values    OpenLCB     Allocated through OpenLCB.org       
      04      00      *     Sequentially Assigned Values    OpenLCB     Reserved for OpenLCB.org future     
                                                                        expansion                           

5.7 Specifically Assigned by Request

   These ranges are assigned by the OpenLCB organization. The OpenLCB group regularly publishes the
   authoritative list of these assignments. The most up-to-date draft of these assignments are available on
   the OpenLCB website.Periodically, but not on a predetermined schedule, this document will be updated
   with any additionally assigned ranges. The OpenLCB organization reserves the right to allocate
   additional Unique Identifiers out of this pool without updating this document, and a comprehensive list
   of specifically assigned Unique Identifiers is maintained in real-time on the OpenLCB Organization web
   site. In the unlikely event that the OpenLCB organization website is in conflict with the latest
   officially version of thisadopted document, the document represents the true allocation.

    Byte 1  Byte 2  Byte 3  Byte 4    Byte 5     Byte 6    Organization               Comment               
                                                                         8-bit assigned ranges. The least   
      05      01      *       *         *           *        OpenLCB     significant byte is sequentially   
                                                                         assigned.                          
                                    Sequentially Assigned                8-bit assigned ranges. The least   
      05      02      *       *            Values            OpenLCB     significant two bytes are          
                                                                         sequentially assigned.             
                                                                         8-bit assigned ranges. The least   
      05      03      *     Sequentially Assigned Values     OpenLCB     significant three bytes are        
                                                                         sequentially assigned.             

5.8 Locomotive Control Systems

   This Unique iIdentifier range (starting with a most significant byte value of 0x06) was originally
   allocated for locomotive control systems. These allocations are no longer valid, because locomotive
   control is being implemented differently than originally conceived. These allocations are known to have
   never been used other than for experimental purposes. For historical reasons, the values are displayed
   here. Do not use these Unique Identifiers for any reason, as their use has been deprecated, and they may
   be re-designated for another purpose in the future.

    Byte 1   Byte 2   Byte 3   Byte 4   Byte 5  Byte 6  Organization                Comment                 
      06       00        *        *       *       *       OpenLCB     DC system, do not use.                
      06       01        *        *       *       *       OpenLCB     DCC operated, do not use.             
      06       02        *        *       *       *       OpenLCB     TMCC operated, do not use.            
      06       03        *        *       *       *       OpenLCB     Marklin/Motorola system, do not use.  
      06       04        *        *       *       *       OpenLCB     MTH DCS, do not use.                  

5.9 RFID and NFC

   The RFID Unique Identifiers space is reserved for further standardization in the future. Do not use this
   space before contacting the OpenLCB organization first.

5.10 Temporary Assigned by Software at Runtime

   This range has been reserved for specialized software and network services specifically designed to
   lease a Unique Identifier to nodes upon request. Nodes that come without a Unique Identifier (such as
   computer programs) may contact an instance of such leasing service to obtain a Unique Identifier. Nodes
   may use any method outside the OpenLCB network to locate and communicate with a leasing service (for
   example an Internet connection or a local TCP/IP network). The leases shall be limited in time, and a
   node shall not use an identifier after the lease time expires. The node may communicate with the leasing
   service to periodically extend the lease.

   Each such service shall operate from a range assigned to the specific instance, and is responsible for
   ensuring uniqueness among its clients. The owner or maintainer of an OpenLCB Installation is responsible
   for ensuring that all the leasing services that all the nodes participating in the installation are
   using, have disjoint ranges. In particular, if the Installation operates one or more leasing services,
   they must be assigned disjoint ranges to hand out identifiers from. Globally available leasing services
   (such as over the Internet) shall have a unique range assigned to them.

   Because Unique Event Identifiers assigned out of this range could be captured and disseminated into use
   by nodes that could become unaware of a lease expiration and reassignment, Unique Event Identifiers
   shall not be assigned out of this range.

   It is possible that a future OpenLCB protocol may, or may not, define a mechanism to negotiatenegociate
   a Unique Identifier lease over an OpenLCB network. It is important to note that no such protocol is
   prescribed by this standard.

    Byte 1  Byte  Byte  Byte 4  Byte 5  Byte 6    Organization                    Comment                   
             2     3    
      08     00    00       Self-Assigned           OpenLCB       Allocated through OpenLCB.org.            
      08     00    *        Self-Assigned           OpenLCB       Reserved for future OpenLCB.org           
                                                                  allocations.                              
                                                                  Manufactures who have been assigned a     
                                                                  DCC Manufacturer ID code may, but are     
      08    01       Long       Self-Assigned   DCC Manufacturer  not required to, use this range. These    
                    DCC ID                                        IDs are defined within the the NMRA       
                                                                  standard “S-9.2.2 Appendix A, DCC         
                                                                  Manufacture ID Codes”.                    
      08     01    00     0D    Self-Assigned      DCC - DIY      Do-It-Yourself (shared unmanaged          
                                                                  space)Private Layout. Use with Caution.   

5.11 Long (16-bit) NMRA DCC Manufacturer Specific

   Manufacturers shall ensure uniqueness for identifiers they assign. Long (8-bit) NMRA DCC manufacture
   ID's are assigned out of this pool. Some of the DCC manufacture ID's are called out specifically in the
   table below as an example and to draw attention to their existence, but they are assigned in accordance
   with their corresponding DCC manufacture ID.

    Byte 1  Byte 2  Byte 3  Byte 4  Byte 5  Byte 6    Organization                  Comment                 
                                                                      Manufactures who have been assigned   
                 Long                                                 a DCC Manufacturer ID code may, but   
      09                        Self-Assigned       DCC Manufacturer  are not required to, use this range.  
                DCC ID                                                These IDs are defined within the      
                                                                      NMRA standard “S-9.2.2 Appendix A,    
                                                                      DCC Manufacture ID Codes”             
                                                                      Do-It-Yourself (shared unmanaged      
      09      00      0D        Self-Assigned          DCC – DIY      space, not recommended for            
                                                                      individual use)                       
      09      00      12        Self-Assigned          DCC – JMRI     JMRI (for use in software solutions)  
      09      00      A5      *      CBUS Node ID      DCC – MERG     MERG Node ID translation              
                                                                      NMRA Reserved (for extended           
      09      00      EE      *       *       *        DCC – NMRA     manufacture ID numbers). Not          
                                                                      available for use.                    

5.12 Reserved Unique Identifiers

   All other unique identifiers not specifically discussed in this Standard shall not be used until the
   Standard is revised to permit their use. Additionally, the following table identifies Unique Identifiers
   that shall be reserved indefinitely.

     Byte 1   Byte 2   Byte 3   Byte 4   Byte 5   Byte 6   Organization               Comment               
       00        *        *        *        *        *        OpenLCB     Shall not be used at any point.   
       FF        *        *        *        *        *        OpenLCB     Shall not be used at any point.   

   Table of Contents

   1 Introduction (Informative) 1

   2 Intended Use (Informative) 1

   3 References and Context (Normative) 1

   4 Format (Normative) 1

   5 Allocation (Normative) 2

   5.1 Overview 2

   5.2 Reserved Leading Zero 2

   5.3 Well-Known Global Identifiers 3

   5.4 Manufacturer Specific 3

   5.5 Self-Assigning Groups 4

   5.6 Assigned by Software at Runtime 5

   5.7 Specifically Assigned by Request 5

   5.8 Locomotive Control Systems 6

   5.9 RFID and NFC 6

   5.10 Temporary Assigned by Software at Runtime 6

   5.11 Long (16-bit) NMRA DCC Manufacturer Specific 7

   5.12 Reserved Unique Identifiers 8

   Copyright 2011-20152016. All rights reserved. See http://openlcb.org/Licensing.html for license terms. 
   Page 1 of 6 - Feb 15, 2015Feb 6, 2016
